
<div [@routerTransition] class="container-fluid pagination-centered"  >
	<app-page-header [heading]="'Entry'" [icon]="'fa-etsy'"></app-page-header>
	<div class="row allow-center">
		<form id="entryFormGroup" class="col-lg-8 col-xs-12" [formGroup]="entryForm" (ngSubmit)="entrySubmit();">
			<div class="form-group" >
				<input type="text" formControlName="entryGroupName" [ngClass]="{'has-error':checkFormHasError('entryGroupName')}" class="form-control input-underline"
				 id="groupName" placeholder="Name">
			</div>
			<div class="form-group">
				<input type="text" formControlName="entryGroupPlace" [ngClass]="{'has-error':checkFormHasError('entryGroupPlace')}" class="form-control input-underline"
				 id="groupPlace" placeholder="Place">
			</div>
			<div class="form-group">
				<input type="text" formControlName="entryGroupGroup" [ngClass]="{'has-error': checkFormHasError('entryGroupGroup')}" class="form-control input-underline"
				 id="groupCategory" placeholder="Category/Group"
				 [ngbTypeahead]="typeAheadForGroupItems"
				 [resultFormatter]="formatter">
			</div>
			<div class="form-group">
				<input type="date" formControlName="entryGroupDate" [ngClass]="{'has-error':checkFormHasError('entryGroupDate')}" class="form-control input-underline"
				 id="groupDate" placeholder="Date">
			</div>
			<!-- formArray to add or remote fields -->
			<div formArrayName="entryGroupItems" >
					   <app-listed-items [count]="indx"
					   *ngFor="let form of getEntryGroupItemsControl(); let indx = index; trackBy: trackByFnForEntryGroupItems"
						[formGroupToList]="entryForm.controls.entryGroupItems.controls[indx]"
						(addItemList)="addItem()"
						(deleteItemList)="deleteItem(indx)">
					   </app-listed-items>
					<br>
			</div>
			<button (click)="submitForm=true;" class="btn app-button form-group right" [disabled]="!hideLoadSpin" id="entrySubmitButton">
				Submit <i class="fa fa-spinner fa-spin fa-1x fa-fw" [hidden]="hideLoadSpin"></i>
			</button>
		</form>
	</div>
</div>